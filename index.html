<!DOCTYPE html>
<html lang="ja">

<head>
  <base target="_top">

  <?!= HtmlService.createHtmlOutputFromFile("css/initcss").getContent(); ?>
  <?!= HtmlService.createHtmlOutputFromFile("css/css").getContent(); ?>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Dela+Gothic+One&family=Noto+Serif+JP:wght@700&family=M+PLUS+Rounded+1c:wght@700&family=Noto+Sans+JP:wght@700&family=Rampart+One&family=Train+One&family=Yusei+Magic&family=Open+Sans:ital,wght@1,800&family=Kaisei+Opti:wght@700&family=New+Tegomin&family=Kaisei+HarunoUmi:wght@700&family=Zen+Maru+Gothic:wght@500&display=swap"
    rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&display=swap&text=%E2%9A%A0" rel="stylesheet">
</head>

<body>
  <div id="displayArea">
    <div style="height: 100px"></div>
    <textarea id="display1" class="displayRow" translate="no" disabled></textarea>
    <div class="displaySpacing"></div>
    <textarea id="display2" class="displayRow" translate="no" disabled></textarea>
    <div class="displaySpacing"></div>
    <textarea id="display3" class="displayRow" translate="no" disabled></textarea>
    <div style="height: 100px"></div>
  </div>
  <div id="settings">
    <h1 id="title">TRANSLATION GUMMY</h1>

    <div>
      <h3>ステータス</h3>
      <textarea id="status" readonly></textarea><input type="button" id="muteButton">
    </div>

    <div>
      <h3>ログ</h3>
      <input type="button" id="logClear" value="ログをクリア"><br>
      <textarea id="logArea" readonly></textarea><br>
    </div>

    <div>
      <h3>設定</h3>
      <span id="localstorageResult"></span>
      <table>
        <tr>
          <td>
            <b>背景色</b><br><span class="supplement">ボックス下のRGBをクリックしてHEXにすると16進数で入力できます</span>
          </td>
          <td>
            <input type="color" id="backgroundColor">
          </td>
        </tr>
        <tr>
          <td>
            <b>表示エリアに色をつける</b><br><span class="supplement">表示エリアに色を付けます。キャプチャー範囲の調整や幅の調整時に。</span>
          </td>
          <td>
            <label for="displayAreaColorValidity">有効にする</label>&nbsp;<input type="checkbox" id="displayAreaColorValidity"><br>
            <label for="displayAreaColor">色</label>&nbsp;<input type="color" id="displayAreaColor"><br>
            <input type="button" id="displayAreaDummy" value="ダミーの文字を出す"><input type="button" id="displayAreaDummyClear" value="ダミーの文字を消す">
          </td>
        </tr>
        <tr>
          <td>
            <b>表示エリアの幅</b>
          </td>
          <td>
            認識結果<br><input type="number" id="recogAreaWidth" min="0">px
          </td>
          <td>
            翻訳1<br><input type="number" id="trans1AreaWidth" min="0">px
          </td>
          <td>
            翻訳2<br><input type="number" id="trans2AreaWidth" min="0">px
          </td>
        </tr>
        <tr>
          <td>
            <b>表示エリアの行間</b>
          </td>
          <td>
            <input type="number" id="displayAreaSpacing" min="0">px
          </td>
        </tr>
        <tr>
          <td>
            <b>スクロールスピード</b><br><span class="supplement">枠からはみ出した時にスクロールするスピードです</span>
          </td>
          <td>
            <input type="range" id="scrollSpeed" min="1" max="10">&nbsp;<span id="scrollSpeedValue"></span>
          </td>
        </tr>
        <tr>
          <td>
            <b>音声認識言語</b><br>
            <span class="supplement">ja-JPやen-USなど<br>BCP47 language-region形式</span>
          </td>
          <td>
            <input id="recognitionLang">
          </td>
        </tr>
        <tr>
          <td>
            <b>連続認識モード</b><br>
            <span class="supplement">有効にするとできるだけ長く認識しようとします。<br>翻訳量は減りますが、人によってはなかなか途切れないことも</span>
          </td>
          <td>
            <input type="checkbox" id="recognitionMode">
          </td>
        </tr>
        <tr>
          <td>
            <b>途中結果を表示する</b><br><span class="supplement">逐一認識結果を表示するか、認識が終わってから表示するかの設定です</span>
          </td>
          <td>
            <input type="checkbox" id="interimResults">
          </td>
        </tr>
        <tr>
          <td>
            <b>音声認識結果を表示しない</b>
          </td>
          <td>
            <input type="checkbox" id="recogResultHidden">
          </td>
        </tr>
        <tr>
          <td>
            <b>翻訳言語1</b>
          </td>
          <td>
            <select id="trans1Lang" class="langSelect"></select>
          </td>
        </tr>
        <tr>
          <td>
            <b>2言語目の翻訳を有効にする</b><br>
            <span class="supplement">2言語翻訳を有効にすると回数制限が半分になりますのでご注意ください</span>
          </td>
          <td>
            <label for="trans2Validity">有効にする</label>&nbsp;&nbsp;<input type="checkbox" id="trans2Validity"><br>
            言語&nbsp;&nbsp;<select id="trans2Lang" class="langSelect"></select>
          </td>
        </tr>
        <tr>
          <td>
            <b>フォント・サイズ・色</b><br>
            <span class="supplement">すべてGoogleFontsより</span>
          </td>
          <td>
            認識結果<br>
            フォント&nbsp;&nbsp;<select id="recogFont" class="fontSelect"></select><br>
            大きさ&nbsp;&nbsp;<input type="number" id="recogFontSize" min="0">px<br>
            色&nbsp;&nbsp;<input type="color" id="recogColor">
          </td>
          <td>
            翻訳1<br>
            フォント&nbsp;&nbsp;<select id="trans1Font" class="fontSelect"></select><br>
            大きさ&nbsp;&nbsp;<input type="number" id="trans1FontSize" min="0">px<br>
            色&nbsp;&nbsp;<input type="color" id="trans1Color">
          </td>
          <td>
            翻訳2<br>
            フォント&nbsp;&nbsp;<select id="trans2Font" class="fontSelect"></select><br>
            大きさ&nbsp;&nbsp;<input type="number" id="trans2FontSize" min="0">px<br>
            色&nbsp;&nbsp;<input type="color" id="trans2Color">
          </td>
        </tr>
        <tr>
          <td>
            <b>文字の縁取り</b><br>
            <span class="supplement">文字の縁取りの太さ、ぼかし、色、字間<br>縁取りの太さ0で縁取りなし、縁取りを太くした時はぼかし入れないと汚いです。</span>
          </td>
          <td>
            認識結果<br>
            <label for="recogShadowSize">太さ</label>&nbsp;<input type="range" id="recogShadowSize" min="0" max="5">&nbsp;<span id="recogShadowSizeValue"></span>px<br>
            <label for="recogShadowBlur">ぼかし</label>&nbsp;<input type="range" id="recogShadowBlur" min="0" max="10">&nbsp;<span id="recogShadowBlurValue"></span>px<br>
            <label for="recogShadowColor">色</label>&nbsp;<input type="color" id="recogShadowColor"><br>
            <label for="recogLetterSpace">文字間</label>&nbsp;<input type="range" id="recogLetterSpace" min="2" max="10" step="2">&nbsp;<span id="recogLetterSpaceValue"></span>px
          </td>
          <td>
            翻訳1<br>
            <label for="trans1ShadowSize">太さ</label>&nbsp;<input type="range" id="trans1ShadowSize" min="0" max="5">&nbsp;<span id="trans1ShadowSizeValue"></span>px<br>
            <label for="trans1ShadowBlur">ぼかし</label>&nbsp;<input type="range" id="trans1ShadowBlur" min="0" max="10">&nbsp;<span id="trans1ShadowBlurValue"></span>px<br>
            <label for="trans1ShadowColor">色</label>&nbsp;<input type="color" id="trans1ShadowColor"><br>
            <label for="trans1LetterSpace">文字間</label>&nbsp;<input type="range" id="trans1LetterSpace" min="2" max="10" step="2">&nbsp;<span id="trans1LetterSpaceValue"></span>px
          </td>
          <td>
            翻訳2<br>
            <label for="trans2ShadowSize">太さ</label>&nbsp;<input type="range" id="trans2ShadowSize" min="0" max="5">&nbsp;<span id="trans2ShadowSizeValue"></span>px<br>
            <label for="trans2ShadowBlur">ぼかし</label>&nbsp;<input type="range" id="trans2ShadowBlur" min="0" max="10">&nbsp;<span id="trans2ShadowBlurValue"></span>px<br>
            <label for="trans2ShadowColor">色</label>&nbsp;<input type="color" id="trans2ShadowColor"><br>
            <label for="trans2LetterSpace">文字間</label>&nbsp;<input type="range" id="trans2LetterSpace" min="2" max="10" step="2">&nbsp;<span id="trans2LetterSpaceValue"></span>px
          </td>
        </tr>
        <tr>
          <td>
            <b>結果にプレフィックスをつける</b><br>
            <span class="supplement">結果に接頭辞を付けたい場合に<br>例: [ja] 等...</span>
          </td>
          <td>
            認識結果<br><input id="recogPrefix" class="prefix">
          </td>
          <td>
            翻訳1<br><input id="trans1Prefix" class="prefix">
          </td>
          <td>
            翻訳2<br><input id="trans2Prefix" class="prefix">
          </td>
        </tr>
        <tr>
          <td>
            <b>ローカルフォント</b><br>
            <span class="supplement">ローカルのフォントを使いたい時にフォントファミリー名を入力<br>見つからなかった時は上のフォントが使われます</span>
          </td>
          <td>
            認識結果<br><input id="recogCustomFont">
          </td>
          <td>
            翻訳1<br><input id="trans1CustomFont">
          </td>
          <td>
            翻訳2<br><input id="trans2CustomFont">
          </td>
        </tr>
        <tr>
          <td>
            <b>設定内容</b><br>
            <span class="supplement">設定を他のアカウントに持っていきたい時に</span>
          </td>
          <td>
            <input id="configJson" readonly>
          </td>
        </tr>
        <tr>
          <td>
            <b>設定の読み込み</b><br>
            <span class="supplement">他のアカウントの設定を引き継ぎたい時に<br>リロード入ります</span>
          </td>
          <td>
            <input id="configLoad"><input type="button" id="configLoadButton" value="読み込み"><br><span id="configLoadResult">&nbsp;</span>
          </td>
        </tr>
        <tr>
          <td>
            <b>全ての設定を元に戻す</b><br>
            <span class="supplement">設定を既定値に戻します。<br>誤操作防止のためにチェックボックスにチェックを入れてボタンを押してください<br>リロード入ります</span>
          </td>
          <td>
            <label for="resetCheck"><span style="color: red; font-weight:bold;">リセットすると元に戻せません!</span></label>&nbsp;<input type="checkbox" id="resetCheck"><br>
            <input type="button" id="resetButton" value="リセット" style="color: red; font-weight:bold;"><br>
            <span id="resetResult"></span>
          </td>
        </tr>
      </table>
      <textarea id="testarea">ABCDEFGabcdefgあいうえお阿伊宇江於</textarea>
    </div>
  </div>

  <footer>
    <p>©&nbsp;2022&nbsp;&nbsp;<a href="https://twitter.com/__Charahiro" target="_blank">@__Charahiro</a>&nbsp;<a
        href="https://github.com/Charahiro-tan/TranslationGummy" target="_blank">Github</a>
  </footer>

  <?!= HtmlService.createHtmlOutputFromFile("scripts/constant").getContent(); ?>
  <?!= HtmlService.createHtmlOutputFromFile("scripts/util").getContent(); ?>
  <?!= HtmlService.createHtmlOutputFromFile("scripts/script").getContent(); ?>

</body>

</html>